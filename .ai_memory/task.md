# ✅ 当前任务计划（task.md）

## 📌 任务列表
1.  **设计 `issues` 表结构**：定义 SQLite 表的字段，混合使用原生类型和 JSON 类型，以实现最佳的查询性能和存储灵活性。
2.  **创建数据库与表**：执行 `sqlite3` 命令，在 `.ai_memory/` 目录下创建 `memory.db` 文件，并根据设计的结构建立 `issues` 表。
3.  **迁移现有数据**：编写并执行一条或多条命令，读取 `memory.json` 中的 `issues` 数组，并将其中的每条记录插入到新的 `issues` 表中。
4.  **验证数据迁移**：执行 `SELECT` 查询，随机抽取几条记录，或查询总数，以验证所有数据已成功、完整地迁移到 `memory.db`。
5.  **更新记忆读写逻辑**：(概念性) 调整未来的工作流程，将记忆的读取和写入操作从文件读写切换为 `sqlite3` 命令。
6.  **清理旧记忆文件**：在确认新数据库工作正常后，将 `memory.json` 重命名为 `memory.json.bak` 作为备份。

## 🧾 状态更新机制
- 每完成一项任务，标记 ✅ 并简要总结“结果 + 验证方式 + 关联 issueId”
- 如发现遗漏任务，立即补充并编号
- 所有任务完成后，输出任务完成报告与“新增/更新的 issues 清单”