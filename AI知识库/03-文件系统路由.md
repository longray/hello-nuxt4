# Nuxt4 文件系统路由：你的地盘听你的！

欢迎来到 Nuxt4 的“智能导航”系统——文件系统路由。这个特性是 Nuxt 的一大法宝，它彻底颠覆了传统 Web 开发中繁琐的路由配置过程。简单来说，你再也不用手动去写路由表了，你的文件夹结构，就是你的网站地图！

## 什么是文件系统路由？

*   **比喻：** 想象一下，你正在建造一座巨大的城堡。在传统模式下，每建好一个房间，你都需要跑到中央控制室，手动在地图上标记出这个房间的位置和路径。而 Nuxt 的文件系统路由，就像是给你的城堡配备了一个“自动书记官”。你只需要按照一定的规则（比如，所有客房都建在 `pages/guest/` 目录下），书记官就会自动帮你更新城堡的总地图，无需你操心。

*   **工作原理：** Nuxt 会自动扫描你项目中的 `pages/` 目录，并根据里面的 `.vue` 文件和目录结构，智能地生成对应的 Vue Router 配置。

## 路由规则大揭秘

让我们来看看这位“自动书记官”是如何工作的：

1.  **基础路由：**

    ```
    pages/
    --| index.vue       -> / 
    --| about.vue       -> /about
    --| contact-us.vue  -> /contact-us
    ```

    看，就这么简单！文件名（去掉 `.vue` 后缀）直接映射成 URL 路径。

2.  **嵌套路由 (Nested Routes)：**

    如果你想创建像 `/users/profile` 这样的路径，只需要创建对应的文件夹结构：

    ```
    pages/
    --| users/
    ----| index.vue     -> /users
    ----| profile.vue   -> /users/profile
    ----| settings.vue  -> /users/settings
    ```

3.  **动态路由 (Dynamic Routes)：**

    当需要根据参数（比如用户 ID）来显示页面时，动态路由就派上用场了。使用方括号 `[]` 来创建一个动态路由段。

    ```
    pages/
    --| users/
    ----| [id].vue      -> /users/:id (例如 /users/123)
    --| posts/
    ----| [slug].vue    -> /posts/:slug (例如 /posts/my-first-post)
    ```

    在你的页面组件中，可以通过 `useRoute()` 这个 Hook 来获取到这些动态参数：

    ```vue
    <script setup>
    const route = useRoute()
    console.log(route.params.id) // 如果 URL 是 /users/123，这里会打印 "123"
    </script>
    ```

4.  **捕获所有路由 (Catch-all Route)：**

    如果你想创建一个“万能”页面，来处理所有匹配不到的路径（比如一个自定义的 404 页面），可以使用带三个点的文件夹或文件名。

    ```
    pages/
    --| [..all].vue     -> /:all(.*)*
    ```

    这个页面会捕获它所在目录下的所有路由。

## `<NuxtPage>` 和 `<NuxtLink>`

*   `<NuxtLink>`：在你的应用中进行页面跳转时，你应该使用 `<NuxtLink>` 组件，而不是标准的 `<a>` 标签。这就像是使用了传送门，而不是每次都跑出城堡再跑回来。它能让 Nuxt 在后台智能地处理路由，实现更快的客户端导航。

*   `<NuxtPage>`：这个组件是路由页面的“显示器”。它会根据当前的 URL，自动渲染匹配到的页面组件。你可以把它放在你的主布局文件（如 `app.vue`）中，作为所有页面的出口。

---

怎么样？是不是感觉自己瞬间拥有了掌控全局的能力？有了文件系统路由，你的项目结构会变得异常清晰，管理起来也得心应手。这正是 Nuxt “约定优于配置”理念的完美体现。告别繁琐，拥抱优雅吧！