# Nuxt4 项目初始化与目录结构
标签: Nuxt4, 项目结构, 初始化, 脚手架

## 问题描述
如何从零开始创建一个新的 Nuxt4 项目，并理解其核心目录结构和各自的用途？这对于新手快速上手和组织大型项目至关重要。

## 解决方案
Nuxt4 提供了官方的脚手架工具 `nuxi`，可以快速初始化一个全新的项目。

### 初始化命令
使用以下命令创建一个名为 `my-nuxt-app` 的新项目：
```bash
npx nuxi@latest init my-nuxt-app
```
这个命令会下载最新的 Nuxt4 模板，并安装所有必要的依赖。

### 启动开发服务器
进入项目目录并启动开发服务器：
```bash
cd my-nuxt-app
npm install
npm run dev
```
现在，你的 Nuxt4 应用应该已经在 `http://localhost:3000` 上运行了。是不是很简单？

## 核心目录结构详解
一个新创建的 Nuxt4 项目包含以下核心目录和文件：

- **`.nuxt/`**: 开发环境下的临时目录，存放编译后的文件和 Vue 应用实例。你几乎不需要手动修改这里的内容，把它当成一个“黑盒”就好。
- **`node_modules/`**: 存放项目的所有依赖包，由 npm 或 yarn 等包管理器自动管理。
- **`app.vue`**: 应用的主入口组件，是所有页面渲染的起点。你可以把它想象成一个“画框”，所有内容都在这个框里展示。
- **`nuxt.config.ts`**: Nuxt 的核心配置文件，用于定义模块、插件、路由规则、构建选项等。这是你定制项目的“总控制室”。
- **`package.json`**: 项目的元数据和依赖管理文件，定义了项目名称、版本、脚本命令等。
- **`tsconfig.json`**: TypeScript 配置文件，Nuxt 会自动生成推荐的配置。

### 约定目录 (Convention-based Directories)
Nuxt 的强大之处在于其“约定优于配置”的理念。通过创建特定的文件夹，可以自动开启相应的功能：

- **`pages/`**: 存放你的页面组件。Nuxt 会根据这个目录下的文件结构自动生成对应的路由。例如，`pages/about.vue` 会自动映射到 `/about` 路由。
- **`components/`**: 存放可复用的 Vue 组件。这里的组件会被自动导入，无需在每个文件中手动 `import`。
- **`layouts/`**: 存放布局组件。用于定义网站的通用 UI 结构，例如页头、页脚和侧边栏。
- **`composables/`**: 存放你的 Vue 组合式函数 (Composables)。这里的文件也会被自动导入，方便在整个应用中共享响应式逻辑。
- **`server/`**: 存放服务端的 API 路由和中间件。由 [Nitro](https://nitro.unjs.io/) 引擎驱动，让你能用 Nuxt 构建全栈应用。
- **`assets/`**: 存放需要通过构建工具（如 Vite 或 Webpack）处理的静态资源，例如 CSS、Sass 文件、图片或字体。
- **`public/`**: 存放不需要构建处理的静态资源。这里的文件会直接被复制到最终的输出目录，并可以通过根 URL 访问。

## 示例代码
一个典型的 `app.vue` 文件，它定义了整个应用的渲染入口：
```vue
<template>
  <div>
    <!-- NuxtLayout 会自动包裹你的页面，并应用指定的布局 -->
    <NuxtLayout>
      <!-- NuxtPage 是一个占位符，用于渲染当前路由匹配到的页面组件 -->
      <NuxtPage />
    </NuxtLayout>
  </div>
</template>

<script setup>
// 这里可以添加全局的 setup 逻辑
</script>

<style>
/* 全局样式可以放在这里，或者使用 assets/css/main.css */
</style>
```

## 常见坑点与注意事项
- **`nuxi` vs `nuxt`**: `nuxi` 是新的脚手架和命令行工具，而 `nuxt` 是旧版本的命令。请确保使用 `nuxi` 来享受最新的功能。
- **目录命名**: 严格遵守 Nuxt 的目录命名约定，否则相关功能可能不会生效。例如，`page/` (单数) 是无效的，必须是 `pages/` (复数)。
- **`assets` vs `public`**: 理解两者的区别至关重要。需要编译和优化的资源（如 CSS 预处理器文件）放入 `assets`；可以直接访问的静态文件（如 `robots.txt`）放入 `public`。

## 参考链接
- [Nuxt4 官方文档 - 目录结构](https://nuxt.com/docs/getting-started/directory-structure)
- [Nuxt4 官方文档 - `nuxi` 命令行工具](https://nuxt.com/docs/api/commands/init)